<html>
<head>
<title>statistic.html</title>
<link rel="stylesheet" href="../dist/tocas.css">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="../dist/tocas.js"></script>
<style type="text/css">
body > .sidebar {
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    width: 300px;
    overflow-y: auto;
    padding: 15px;
    box-sizing: border-box;
    border-right: 1px solid #eee;
}

body > .sidebar .sidebar__link {
    display: block;
    background: #EEE;
    padding: 10px 15px;
    color: #2f2f2f;
    text-decoration: none;
    font-weight: bold;
    margin-bottom: 10px;
}

body {
    padding: 15px;
    padding-left: 315px;
    overflow-y: auto;
}

body > .section__header {
    font-size: 28px;
    font-weight: bold;
    margin-bottom: 20px;
    display: block;
    color: #333;
    text-decoration: none;
    clear: both;
    outline: none;
}

body > .section__header:not(:first-child) {
    margin-top: 50px;
}
</style>
</head>
<body>
    <!-- .sidebar -->
    <div class="sidebar">
        
    </div>
    <!-- / .sidebar -->

    <!-- .section -->
    
    <!-- / .section -->
    <script>
        var mySocket = new WebSocket("ws://localhost:8356/ws");
        mySocket.onmessage = function(e) {
            var d = JSON.parse(e.data)
            if (d.update == "sass") {
                for (var link of document.querySelectorAll("link[rel=stylesheet]")) {
                    link.href = link.href.replace(/\?.*|$/, "?ts=" + new Date().getTime())
                }
            }
        }

        document.addEventListener('scroll', function( event ) {
            var top = 9999
            var el

            document.querySelectorAll('.section__header').forEach((v) => {
                if (v.getBoundingClientRect().top > top || v.getBoundingClientRect().top < 0) {
                    return
                }
                top = v.getBoundingClientRect().top
                el  = v
            })
            window.location.hash = el.hash.substr(1)
        } )
    </script>
</body>
</html>