@import ../../variables/modules/popup.variables

//*******************************//
//            Animation
//*******************************//

@keyframes popup-upward
    0%
        opacity  : 0
    100%
        transform: translateY(-14px)
        opacity: 1
@keyframes popup-downward
    0%
        opacity  : 0
    100%
        transform: translateY(14px)
        opacity: 1
@keyframes popup-leftward
    0%
        opacity  : 0
    100%
        transform: translateX(-14px)
        opacity: 1
@keyframes popup-rightward
    0%
        opacity  : 0
    100%
        transform: translateX(14px)
        opacity: 1

//*******************************//
//         Element Main
//*******************************//

.ts.popup
    position     : absolute
    display      : inline-block
    visibility   : hidden
    background   : #fff
    box-shadow   : $popup_boxShadow
    border       : $popup_elementBorder
    border-radius: $popup_elementBorderRadius
    z-index      : $z_popup

    margin-bottom: 14px

//-------------------//
//     Visibility
//-------------------//

.ts.popup.visible
    visibility: visible
    opacity   : 1

.ts.popup.animating[data-popup-position="top left"],
.ts.popup.animating[data-popup-position="top center"],
.ts.popup.animating[data-popup-position="top right"]
    animation: popup-upward 180ms cubic-bezier(0.22, 0.61, 0.36, 1) both
.ts.popup.animating[data-popup-position="bottom left"],
.ts.popup.animating[data-popup-position="bottom center"],
.ts.popup.animating[data-popup-position="bottom right"]
    animation: popup-downward 180ms cubic-bezier(0.22, 0.61, 0.36, 1) both
.ts.popup.animating[data-popup-position="left top"],
.ts.popup.animating[data-popup-position="left center"],
.ts.popup.animating[data-popup-position="left bottom"]
    animation: popup-leftward 180ms cubic-bezier(0.22, 0.61, 0.36, 1) both
.ts.popup.animating[data-popup-position="right top"],
.ts.popup.animating[data-popup-position="right center"],
.ts.popup.animating[data-popup-position="right bottom"]
    animation: popup-rightward 180ms cubic-bezier(0.22, 0.61, 0.36, 1) both

.ts.popup.animating:not(.visible)
    visibility         : visible
    animation-direction: reverse
    animation-duration: 200ms

//-------------------//
//       Header
//-------------------//

.ts.popup > .header
    overflow     : hidden
    color        : $popup_elementHeaderColor
    border-bottom: $popup_elementHeaderBorder
    padding      : $popup_elementPadding
    background   : $popup_elementHeaderBackgroundColor

//-------------------//
//      Content
//-------------------//

.ts.popup > .content
    padding: $popup_elementPadding

//-------------------//
//       Arrow
//-------------------//

.ts.popup:before,
.ts.popup:after
    bottom  : 100%
    border  : solid transparent
    content : ""
    height  : 0
    width   : 0
    position: absolute

    pointer-events: none

.ts.popup:before
    border-color: transparent
    border-width: 10px
    z-index     : 100

.ts.popup:after
    border-color: transparent
    border-width: 8px
    z-index     : 200

//-------------------//
//     Direction
//-------------------//

.ts.popup.visible[data-popup-position="top left"]:not(.animating),
.ts.popup.visible[data-popup-position="top center"]:not(.animating),
.ts.popup.visible[data-popup-position="top right"]:not(.animating)
    transform: translateY(-14px)
.ts.popup.visible[data-popup-position="bottom left"]:not(.animating),
.ts.popup.visible[data-popup-position="bottom center"]:not(.animating),
.ts.popup.visible[data-popup-position="bottom right"]:not(.animating)
    transform: translateY(14px)
.ts.popup.visible[data-popup-position="left top"]:not(.animating),
.ts.popup.visible[data-popup-position="left center"]:not(.animating),
.ts.popup.visible[data-popup-position="left bottom"]:not(.animating)
    transform: translateX(-14px)
.ts.popup.visible[data-popup-position="right top"]:not(.animating),
.ts.popup.visible[data-popup-position="right center"]:not(.animating),
.ts.popup.visible[data-popup-position="right bottom"]:not(.animating)
    transform: translateX(14px)

.ts.popup[data-popup-position="top right"]:before
    border-bottom-color: $popup_elementBorderColor
    bottom             : -20px
    right              : $popup_elementHorizontalPadding
    transform          : rotate(180deg)
.ts.popup[data-popup-position="top right"]:after
    border-bottom-color: #FFF
    bottom             : -16px
    right              : calc(#{$popup_elementHorizontalPadding} - -2px)
    transform          : rotate(180deg)
.ts.popup[data-popup-position="top left"]:before
    border-bottom-color: $popup_elementBorderColor
    bottom             : -20px
    left               : $popup_elementHorizontalPadding
    transform          : rotate(180deg)
.ts.popup[data-popup-position="top left"]:after
    border-bottom-color: #FFF
    bottom             : -16px
    left               : calc(#{$popup_elementHorizontalPadding} - -2px)
    transform          : rotate(180deg)
.ts.popup[data-popup-position="top center"]:before
    border-bottom-color: $popup_elementBorderColor
    bottom             : -20px
    left               : 50%
    transform          : translateX(-50%) rotate(180deg)
.ts.popup[data-popup-position="top center"]:after
    border-bottom-color: #FFF
    bottom             : -16px
    left               : 50%
    transform          : translateX(-50%) rotate(180deg)

.ts.popup[data-popup-position="bottom right"]:before
    border-bottom-color: $popup_elementBorderColor
    right              : $popup_elementHorizontalPadding
.ts.popup[data-popup-position="bottom right"]:after
    border-bottom-color: #FFF
    right              : calc(#{$popup_elementHorizontalPadding} - -2px)
.ts.popup[data-popup-position="bottom left"]:before
    border-bottom-color: $popup_elementBorderColor
    left               : $popup_elementHorizontalPadding
.ts.popup[data-popup-position="bottom left"]:after
    border-bottom-color: #FFF
    left               : calc(#{$popup_elementHorizontalPadding} - -2px)
.ts.popup[data-popup-position="bottom center"]:before
    border-bottom-color: $popup_elementBorderColor
    left               : 50%
    transform          : translateX(-50%)
.ts.popup[data-popup-position="bottom center"]:after
    border-bottom-color: #FFF
    left               : 50%
    transform          : translateX(-50%)

.ts.popup[data-popup-position="right top"]:before
    border-bottom-color: $popup_elementBorderColor
    top             : $popup_elementVerticalPadding
    left               : -20px
    transform          : rotate(-90deg)
.ts.popup[data-popup-position="right top"]:after
    border-bottom-color: #FFF
    top                : calc(#{$popup_elementVerticalPadding} - -2px)
    left               : -16px
    transform          : rotate(-90deg)
.ts.popup[data-popup-position="right bottom"]:before
    border-bottom-color: $popup_elementBorderColor
    bottom             : $popup_elementVerticalPadding
    left               : -20px
    transform          : rotate(-90deg)
.ts.popup[data-popup-position="right bottom"]:after
    border-bottom-color: #FFF
    bottom             : calc(#{$popup_elementVerticalPadding} - -2px)
    left               : -16px
    transform          : rotate(-90deg)
.ts.popup[data-popup-position="right center"]:before
    border-bottom-color: $popup_elementBorderColor
    top                : 50%
    left               : -20px
    transform          : translateY(-50%) rotate(-90deg)
.ts.popup[data-popup-position="right center"]:after
    border-bottom-color: #FFF
    top                : 50%
    left               : -16px
    transform          : translateY(-50%) rotate(-90deg)

.ts.popup[data-popup-position="left top"]:before
    border-bottom-color: $popup_elementBorderColor
    top                : $popup_elementVerticalPadding
    right              : -20px
    transform          : rotate(90deg)
.ts.popup[data-popup-position="left top"]:after
    border-bottom-color: #FFF
    top                : calc(#{$popup_elementVerticalPadding} - -2px)
    right              : -16px
    transform          : rotate(90deg)
.ts.popup[data-popup-position="left bottom"]:before
    border-bottom-color: $popup_elementBorderColor
    bottom             : $popup_elementVerticalPadding
    right              : -20px
    transform          : rotate(90deg)
.ts.popup[data-popup-position="left bottom"]:after
    border-bottom-color: #FFF
    bottom             : calc(#{$popup_elementVerticalPadding} - -2px)
    right              : -16px
    transform          : rotate(90deg)
.ts.popup[data-popup-position="left center"]:before
    border-bottom-color: $popup_elementBorderColor
    top                : 50%
    right              : -20px
    transform          : translateY(-50%) rotate(90deg)
.ts.popup[data-popup-position="left center"]:after
    border-bottom-color: #FFF
    top                : 50%
    right              : -16px
    transform          : translateY(-50%) rotate(90deg)

//-------------------//
//     Coupling
//-------------------//

.ts.popup > .ts.grid:not(.padded)
    width : auto
    margin: 0